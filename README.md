# Clhoria åŸºäº Hono çš„å¿«é€Ÿå¼€å‘æ¨¡æ¿

ç®€ä½“ä¸­æ–‡ | [English](./readme.en.md)

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Node](https://img.shields.io/badge/node-%3E%3D24-brightgreen.svg)
![TypeScript](https://img.shields.io/badge/typescript-5.9+-blue.svg)
![Build Status](https://img.shields.io/badge/build-passing-brightgreen.svg)

ç°ä»£åŒ–ä¼ä¸šçº§åç«¯æ¨¡æ¿,åŸºäº Hono æ¡†æ¶æ„å»ºçš„é«˜æ€§èƒ½ TypeScript åº”ç”¨ã€‚é‡‡ç”¨ AI é©±åŠ¨å¼€å‘æ¨¡å¼,ç»“åˆ Hono + OpenAPI + Zod å®Œæ•´æŠ€æœ¯ä½“ç³»,å®ç°çœŸæ­£çš„ç±»å‹å®‰å…¨å’Œå¼€å‘æ•ˆç‡æå‡ã€‚é›†æˆ Drizzle ORM + PostgreSQL æ•°æ®å±‚,å®Œæ•´çš„ RBAC æƒé™ä½“ç³»,æä¾›æ¯”ä¼ ç»Ÿåå°ç®¡ç†ç³»ç»Ÿæ›´ç¨³å®šã€æ›´é«˜æ•ˆçš„å¼€å‘ä½“éªŒã€‚

Clhoria å°†å¤æ‚çš„æŠ€æœ¯æ¶æ„åŒ–ç¹ä¸ºç®€,è®©æ¯ä¸€æ¬¡ç¼–ç éƒ½å¦‚è¯—èˆ¬ä¼˜é›…,æ¯ä¸€ä¸ªåŠŸèƒ½éƒ½å¦‚èŠ±èˆ¬ç»½æ”¾ã€‚é€‰æ‹© Clhoria,å°±æ˜¯é€‰æ‹©ä¸æœªæ¥åŒè¡Œã€‚

> æ¨¡æ¿é…å¥—çš„åå°ç®¡ç†å‰ç«¯éƒ¨åˆ†åŸºäº Refine + Shadcn å¼€å‘:[https://github.com/zhe-qi/refine-project](https://github.com/zhe-qi/refine-project)

## åŠŸèƒ½ç‰¹æ€§

- **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**: Hono + TypeScript + Vite + Drizzle ORM + PostgreSQL
- **æ··åˆæ¶æ„**: å‡½æ•°å¼å¼€å‘è§„èŒƒã€å¤šå±‚çº§è·¯ç”±ç»“æ„ã€å¤æ‚ä¸šåŠ¡å¯é€‰DDD
- **è‡ªåŠ¨åŒ–æ–‡æ¡£**: OpenAPI 3.1 è§„èŒƒ + Scalar UI,ä»£ç å³æ–‡æ¡£,æ”¯æŒåœ¨çº¿è°ƒè¯•å’Œç±»å‹ç”Ÿæˆ
- **å¤šå±‚è®¤è¯æˆæƒ**: JWT åŒå¯†é’¥(Admin/Client éš”ç¦»)+ Casbin RBAC
- **å£°æ˜å¼åˆ†é¡µå™¨**: åŸºäº Refine è§„èŒƒçš„å®‰å…¨å£°æ˜å¼æŸ¥è¯¢,æ‹“å±• refine æŸ¥è¯¢æ”¯æŒä»…åç«¯è”è¡¨æŸ¥è¯¢
- **å®Œæ•´ RBAC**: ç”¨æˆ·ç®¡ç† + è§’è‰²ç®¡ç† + Casbin æƒé™ç­–ç•¥ + Refine Resource èœå•
- **æ™ºèƒ½æƒé™ç³»ç»Ÿ**: Casbin KeyMatch3 + RESTful + Refine Resource,æ— éœ€åç«¯å­˜å‚¨æƒé™æ ‡è¯†
- **é«˜æ€§èƒ½èœå•**: åŸºäº Refine çš„èœå•å’Œè·¯ç”±æœ€ä½³å®è·µ,ç›¸æ¯”ä¼ ç»ŸåŠ¨æ€è·¯ç”±æ€§èƒ½æ›´ä¼˜
- **ä¸šåŠ¡å’Œç³»ç»Ÿå­—å…¸**: ä¸šåŠ¡å­—å…¸æ”¯æŒè¿è¡Œæ—¶åŠ¨æ€é…ç½®(JSONB + Redisç¼“å­˜),ç³»ç»Ÿå­—å…¸ä½¿ç”¨ Pgæšä¸¾ ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥
- **æ—¥å¿—ä¸­é—´ä»¶**: æ”¶é›†æ—¥å¿—,æ”¯æŒå¤šç§å­˜å‚¨æ–¹æ¡ˆ(é˜¿é‡Œäº‘ SLSã€PostgreSQL TimescaleDBã€Loki ç­‰)
- **é«˜æ€§èƒ½ç¼“å­˜**: Redis ç¼“å­˜ï¼ˆæ”¯æŒé›†ç¾¤æ¨¡å¼ï¼‰+ å¤šå±‚é™æµç­–ç•¥ + æƒé™ç¼“å­˜ + ä¼šè¯ç®¡ç† + åˆ†å¸ƒå¼é”
- **ä»»åŠ¡é˜Ÿåˆ—å’Œå®šæ—¶ä»»åŠ¡**: åŸºäº pg-boss çš„åå°ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†å’Œå®šæ—¶ä»»åŠ¡è°ƒåº¦ï¼ˆåˆ†å¸ƒå¼å®‰å…¨ï¼Œå¤šèŠ‚ç‚¹åªæ‰§è¡Œä¸€æ¬¡ï¼‰
- **åˆ†å¸ƒå¼äº‹åŠ¡**: åŸºäº pg-boss çš„ Saga åè°ƒå™¨ï¼Œæ”¯æŒå¤šæ­¥éª¤äº‹åŠ¡ã€è‡ªåŠ¨è¡¥å¿å›æ»šã€é‡è¯•ç­–ç•¥ã€è¶…æ—¶å¤„ç†
- **å¯¹è±¡å­˜å‚¨**: é›†æˆ S3 å…¼å®¹å¯¹è±¡å­˜å‚¨(æ”¯æŒ Cloudflare R2ã€é˜¿é‡Œäº‘ OSSã€AWS S3 ç­‰)
- **æ™ºèƒ½éªŒè¯ç **: é›†æˆ Cap.js,æ”¯æŒå¤šç§æŒ‘æˆ˜ç±»å‹çš„ç°ä»£åŒ–éªŒè¯ç ç³»ç»Ÿ
- **AI åŸç”Ÿå¼€å‘**: Claude Code + OpenAPI è‡ªåŠ¨ç”Ÿæˆ,å‘Šåˆ«æ‰‹å·¥ç»´æŠ¤æ¥å£æ–‡æ¡£çš„ç—›è‹¦
- **ç±»å‹å®‰å…¨ä½“ç³»**: Hono + Zod + TypeScript å…¨é“¾è·¯ç±»å‹æ¨å¯¼,ç¼–è¯‘æ—¶å‘ç°é—®é¢˜
- **æ™ºèƒ½æµ‹è¯•è¦†ç›–**: Vitest + AI è¾…åŠ©,è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹,ç¡®ä¿æ¥å£ç¨³å®šæ€§
- **å³æ—¶åé¦ˆå¼€å‘**: åŸºäº Vite çš„çƒ­é‡è½½å¼€å‘ç¯å¢ƒ,ä»£ç å˜æ›´æ¯«ç§’çº§ç”Ÿæ•ˆ,å¼€å‘ä½“éªŒæè‡´æµç•…
- **Claude Code æ·±åº¦ä¼˜åŒ–**: å®Œæ•´ CLAUDE.md é…ç½®,MCP æ’ä»¶ç”Ÿæ€,AI ç†è§£é¡¹ç›®æ¶æ„
- **ç›‘æ§ç³»ç»Ÿ**: é›†æˆ Sentry é”™è¯¯è¿½è¸ª,æ”¯æŒè‡ªå»ºæˆ–äº‘åŸç”Ÿæ–¹æ¡ˆ(å°å›¢é˜Ÿæ¨èäº‘æœåŠ¡,å…è¿ç»´)
- **Excel å¤„ç†**: åŸºäº excelize-wasm çš„é«˜æ€§èƒ½ Excel å¯¼å…¥å¯¼å‡ºï¼Œå•ä¾‹å»¶è¿ŸåŠ è½½ï¼ŒgolangåŒæ¬¾excelå¤„ç†æ€§èƒ½

## å¿«é€Ÿå¼€å§‹

### æœ¬åœ°å¼€å‘ç¯å¢ƒ

- Node.js >= 24
- pnpm >= 10
- PostgreSQL >= 18
- Redis >= 7

#### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**

   ```bash
   git clone https://github.com/zhe-qi/clhoria-template
   cd clhoria-template
   ```

2. **å®‰è£…ä¾èµ–**

   ```bash
   npm i -g corepack
   pnpm install
   ```

3. **é…ç½®ç¯å¢ƒå˜é‡**

   ```bash
   cp .env.example .env
   ```

4. **åˆå§‹åŒ–æ•°æ®åº“**

   ```bash
   # å¯åŠ¨postgresæœåŠ¡(å¯é€‰,åœ¨æœ¬åœ°dockerç¯å¢ƒä¸‹å¿«é€Ÿæ­å»ºpostgresæ•°æ®åº“)
   docker compose --env-file .env run -d --service-ports postgres

   # å¯åŠ¨redisæœåŠ¡(å¯é€‰,åœ¨æœ¬åœ°dockerç¯å¢ƒä¸‹å¿«é€Ÿæ­å»ºredis)
   docker compose --env-file .env run -d --service-ports redis

   # æ¨é€æ•°æ®åº“æ¶æ„åˆ°å¼€å‘ç¯å¢ƒï¼Œç¬¬ä¸€æ¬¡åˆå§‹åŒ–æ•°æ®åº“è¯·ä½¿ç”¨migrateï¼Œæœ‰ä¸ªpgSchema
   pnpm push

   # å¡«å……åˆå§‹æ•°æ®(å¯é€‰,åº”ç”¨å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ£€æŸ¥å¹¶åˆå§‹åŒ–)
   pnpm seed
   ```

   **ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²**éœ€è¦å…ˆéªŒè¯è¿ç§»:

   ```bash
   pnpm generate  # ç”Ÿæˆè¿ç§»æ–‡ä»¶
   pnpm migrate   # æ‰§è¡Œè¿ç§»
   ```

5. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   pnpm dev
   ```

è®¿é—® <http://localhost:9999> æŸ¥çœ‹ API æ–‡æ¡£ã€‚

## TypeScript 5.9+ å’Œ ts-go æ”¯æŒ

æœ¬é¡¹ç›®æ”¯æŒä½¿ç”¨å®éªŒæ€§çš„ ts-go æ¥æå‡ TypeScript çš„ç±»å‹æ£€æŸ¥å’Œè¯­è¨€æœåŠ¡æ€§èƒ½ã€‚åœ¨å½“å‰é¡¹ç›®è§„æ¨¡ä¸‹ï¼Œts-go çš„æ€§èƒ½æå‡éå¸¸æ˜æ˜¾ï¼Œä¸”è¯­è¨€æœåŠ¡ç›¸å¯¹ç¨³å®šï¼Œæ¨èä½¿ç”¨ã€‚

### ä½¿ç”¨ ts-goï¼ˆæ¨èï¼‰

å®‰è£… VSCode æ’ä»¶ï¼š[TypeScript Native Preview](https://marketplace.visualstudio.com/items?itemName=TypeScriptTeam.native-preview)

> **æ³¨æ„**ï¼šç›®å‰ ts-go ä»…ç”¨äºç±»å‹æ£€æŸ¥å’Œè¯­è¨€æœåŠ¡ï¼Œå¼€å‘å’Œæ‰“åŒ…åŸºäº Vite (Rolldown)ï¼Œè¿è¡Œæ—¶ä½¿ç”¨ tsxã€‚

> **ç¼“å­˜é—®é¢˜**ï¼šå¦‚æœé‡åˆ° ts æœåŠ¡æŠ¥é”™æˆ–ç±»å‹ç¼“å­˜å¼‚å¸¸ï¼Œä½¿ç”¨ `Cmd + Shift + P` æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œè¾“å…¥ `restart`ï¼Œæ‰¾åˆ° **TypeScript: Restart TS Server** é‡å¯ TS æœåŠ¡å³å¯æ¢å¤æ­£å¸¸ã€‚

> **æ€§èƒ½æç¤º**ï¼šZod å¯¹ç±»å‹æœåŠ¡çš„æ€§èƒ½æ¶ˆè€—è¾ƒå¤§ï¼Œts-go åœ¨è¿™æ–¹é¢æœ‰æ˜æ˜¾æ”¹å–„ã€‚å¦‚æœèƒ½æ¥å—å¶å°”çš„ç¼“å­˜é—®é¢˜ï¼Œä»ç„¶å»ºè®®ç»§ç»­ä½¿ç”¨ ts-go ä»¥è·å¾—æ›´å¥½çš„å¼€å‘ä½“éªŒã€‚

### ä¸ä½¿ç”¨ ts-go

å¦‚æœä¸å¸Œæœ›ä½¿ç”¨ ts-goï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ­¥éª¤å›é€€ï¼š

1. ç§»é™¤ `.vscode/settings.json` é‡Œçš„ `"typescript.experimental.useTsgo": true`
2. æ‰§è¡Œ `pnpm remove @typescript/native-preview`
3. ä¿®æ”¹ `package.json` ä¸­çš„ `typecheck` å‘½ä»¤ï¼Œå°† `npx tsgo` æ”¹ä¸º `tsc`

## å¼€å‘è§„èŒƒ

æœ¬é¡¹ç›®é‡‡ç”¨ **è§„èŒƒé©±åŠ¨å¼€å‘ï¼ˆSpec-Driven Development, SDDï¼‰** æ–¹æ³•è®ºã€‚SDD é¢ è¦†äº†ä¼ ç»Ÿçš„å¼€å‘å±‚çº§å…³ç³»â€”â€”è®©è§„èŒƒæˆä¸ºä¸»å¯¼ï¼Œä»£ç æˆä¸ºè§„èŒƒçš„å®ç°ã€‚é€šè¿‡ AI èƒ½åŠ›ï¼Œç²¾ç¡®çš„è§„èŒƒå¯ä»¥ç›´æ¥ç”Ÿæˆå¯å·¥ä½œçš„ä»£ç ï¼ŒåŒæ—¶é€šè¿‡ç»“æ„åŒ–æµç¨‹é¿å…æ··ä¹±ã€‚

> ğŸ“– å»¶ä¼¸é˜…è¯»ï¼š[Spec-Driven Development](https://github.com/github/spec-kit/blob/main/spec-driven.md)

### Claude Code å¼€å‘æµç¨‹

é…åˆ Claude Code è¿›è¡ŒåŠŸèƒ½å¼€å‘æ—¶ï¼Œéµå¾ªä»¥ä¸‹ 6 é˜¶æ®µæ ‡å‡†æµç¨‹ï¼š

```
1. Specï¼ˆéœ€æ±‚åˆ†æ + æŠ€æœ¯æ¶æ„è®¾è®¡ + æµ‹è¯•è§„åˆ’ï¼‰â†’ 2. ç”Ÿæˆæ¥å£ä»£ç  â†’
3. ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ â†’ 4-5. å¾ªç¯ä¼˜åŒ– â†’ 6. ç”Ÿæˆæ¨¡å—æ–‡æ¡£
```

#### å„é˜¶æ®µæ ¸å¿ƒè¦ç‚¹

| é˜¶æ®µ            | ç›®æ ‡                                  | è¾“å‡º                                                           |
| --------------- | ------------------------------------- | -------------------------------------------------------------- |
| 1. Spec         | éœ€æ±‚åˆ†æã€æŠ€æœ¯æ¶æ„è®¾è®¡ã€æµ‹è¯•è§„åˆ’      | `docs/{feature}/spec.md`ï¼ˆå«éœ€æ±‚ã€æ¶æ„ã€æµ‹è¯•ç­–ç•¥ï¼‰             |
| 2. ç”Ÿæˆæ¥å£ä»£ç  | ä¸€æ¬¡æ€§ç”Ÿæˆå®Œæ•´ä»£ç (Schema + Handlers) | å®Œæ•´çš„æ¥å£ä»£ç  + migration                                     |
| 3. ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ | åŸºäºæ¥å£ç±»å‹ç”Ÿæˆå¯æ‰§è¡Œæµ‹è¯•            | `__tests__/int.test.ts`                                        |
| 4-5. å¾ªç¯ä¼˜åŒ–   | æŒç»­æ”¹è¿›ç›´åˆ°æ»¡è¶³éªŒæ”¶æ ‡å‡†              | é€šè¿‡éªŒæ”¶çš„ä»£ç                                                  |
| 6. æ¨¡å—æ–‡æ¡£     | ç”Ÿæˆæ¨¡å—æ–‡æ¡£ä¾›åç»­ AI å¼€å‘ç»´æŠ¤ä½¿ç”¨    | `docs/{feature}/module.md`ï¼ˆæ¨¡å—å…³è”æ–‡ä»¶ã€ä»£ç åŠŸèƒ½ã€æŠ€æœ¯è¦ç‚¹ï¼‰ |

#### éªŒæ”¶æ ‡å‡†ï¼ˆDone Criteriaï¼‰

- âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ˆ**å¿…é¡»**ï¼‰
- âœ… ç¬¦åˆ CLAUDE.md è§„èŒƒï¼ˆ**å¿…é¡»**ï¼‰
- âœ… æ— æ˜æ˜¾æ€§èƒ½é—®é¢˜ï¼ˆ**å¿…é¡»**ï¼‰
- âœ… ä»£ç è´¨é‡è¾¾æ ‡ï¼ˆ**å¯é€‰**ï¼‰

#### æ–‡æ¡£äº§å‡º

æ¯ä¸ªåŠŸèƒ½æ¨¡å—å®Œæˆåï¼Œåº”åŒ…å«ä»¥ä¸‹æ–‡æ¡£ï¼š

```
docs/{feature}/
â”œâ”€â”€ spec.md    # Spec æ–‡æ¡£ï¼ˆéœ€æ±‚åˆ†æ + æŠ€æœ¯æ¶æ„ + æµ‹è¯•ç­–ç•¥ï¼‰
â””â”€â”€ module.md  # æ¨¡å—æ–‡æ¡£ï¼ˆä¾›åç»­ AI å¼€å‘ç»´æŠ¤ä½¿ç”¨ï¼‰
```

<details>
<summary>ğŸ“‹ æ–‡æ¡£æ¨¡æ¿ç¤ºä¾‹ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>

**spec.md æ¨¡æ¿**

```markdown
# {åŠŸèƒ½åç§°} Spec

## éœ€æ±‚åˆ†æ

### åŠŸèƒ½æ¦‚è¿°

{ç®€çŸ­æè¿°åŠŸèƒ½}

### ä¸šåŠ¡éœ€æ±‚

- {éœ€æ±‚ç‚¹1}
- {éœ€æ±‚ç‚¹2}

## æŠ€æœ¯æ¶æ„è®¾è®¡

### æ•°æ®åº“è®¾è®¡

- è¡¨ç»“æ„ï¼š{è¡¨åã€å­—æ®µã€ç±»å‹}
- å…³ç³»ï¼š{è¡¨å…³ç³»}
- ç´¢å¼•ï¼š{ç´¢å¼•ç­–ç•¥}

### API è®¾è®¡

| è·¯å¾„                 | æ–¹æ³• | æè¿°     | æƒé™  |
| -------------------- | ---- | -------- | ----- |
| /api/admin/{feature} | GET  | åˆ—è¡¨æŸ¥è¯¢ | admin |
| /api/admin/{feature} | POST | åˆ›å»º     | admin |

### æŠ€æœ¯é€‰å‹

- {é€‰æ‹©çš„æŠ€æœ¯åŠåŸå› }

### å…³é”®æŠ€æœ¯å†³ç­–

- {é‡è¦çš„æ¶æ„å†³ç­–åŠç†ç”±}

## æµ‹è¯•ç­–ç•¥

### æµ‹è¯•åœºæ™¯çŸ©é˜µ

| æ¥å£ | æ­£å¸¸æµç¨‹ | å¼‚å¸¸æµç¨‹       | è¾¹ç•Œæ¡ä»¶     |
| ---- | -------- | -------------- | ------------ |
| åˆ›å»º | âœ“        | é‡å¤ã€æ— æ•ˆæ ¼å¼ | å­—æ®µé•¿åº¦é™åˆ¶ |
| æŸ¥è¯¢ | âœ“        | ä¸å­˜åœ¨çš„ ID    | åˆ†é¡µè¾¹ç•Œ     |
```

**module.md æ¨¡æ¿**

> æ­¤æ–‡æ¡£ä¾›åç»­ AI ç»§ç»­å¼€å‘æˆ–ç»´æŠ¤å½“å‰æ¨¡å—æ—¶ä½¿ç”¨ï¼Œç”¨äºå¿«é€Ÿäº†è§£å½“å‰æ¨¡å—å…³è”äº†å“ªäº›æ–‡ä»¶åŠä»£ç åŠŸèƒ½ã€‚

```markdown
# {åŠŸèƒ½åç§°} - æ¨¡å—æ–‡æ¡£

## æ¨¡å—æ–‡ä»¶ç´¢å¼•

| æ–‡ä»¶è·¯å¾„                                           | ç”¨é€”          |
| -------------------------------------------------- | ------------- |
| `src/routes/admin/{feature}/{feature}.index.ts`    | è·¯ç”±å…¥å£      |
| `src/routes/admin/{feature}/{feature}.routes.ts`   | è·¯ç”±å®šä¹‰      |
| `src/routes/admin/{feature}/{feature}.handlers.ts` | ä¸šåŠ¡å¤„ç†å™¨    |
| `src/routes/admin/{feature}/{feature}.types.ts`    | ç±»å‹å®šä¹‰      |
| `src/routes/admin/{feature}/__tests__/int.test.ts` | é›†æˆæµ‹è¯•      |
| `src/db/schema/admin/{feature}/{entity}.ts`        | æ•°æ®åº“ Schema |

## å…³è”æ¨¡å—

- **ä¾èµ–æ¨¡å—**ï¼š{åˆ—å‡ºæœ¬æ¨¡å—ä¾èµ–çš„å…¶ä»–æ¨¡å—}
- **è¢«ä¾èµ–æ¨¡å—**ï¼š{åˆ—å‡ºä¾èµ–æœ¬æ¨¡å—çš„å…¶ä»–æ¨¡å—}

## æ ¸å¿ƒåŠŸèƒ½è¯´æ˜

### {åŠŸèƒ½ç‚¹1}

- **å…¥å£å‡½æ•°**ï¼š`{å‡½æ•°å}`
- **å®ç°é€»è¾‘**ï¼š{ç®€è¿°å®ç°é€»è¾‘}

## æ•°æ®æµå›¾

\`\`\`
è¯·æ±‚ â†’ JWTéªŒè¯ â†’ RBACæˆæƒ â†’ ZodéªŒè¯ â†’ ä¸šåŠ¡é€»è¾‘ â†’ Resp.ok()
\`\`\`

## æŠ€æœ¯è¦ç‚¹ä¸é¿å‘æŒ‡å—

- âš ï¸ å“åº”å¿…é¡»ä½¿ç”¨ `Resp.ok()` / `Resp.fail()` åŒ…è£…
- âš ï¸ æ—¥å¿—ä½¿ç”¨ `logger.info()` ä¸ç”¨ console.log
- âš ï¸ DB Schema ç”¨ `snake_case`ï¼ŒTS ç”¨ `camelCase`
- {å…¶ä»–æœ¬æ¨¡å—ç‰¹æœ‰çš„æŠ€æœ¯è¦ç‚¹}
```

</details>

---

### è·¯ç”±æ¨¡å—ç»“æ„

```text
routes/{tier}/{feature}/
â”œâ”€â”€ {feature}.handlers.ts       # ä¸šåŠ¡é€»è¾‘å¤„ç†å™¨ï¼ˆå¿…éœ€ï¼‰
â”œâ”€â”€ {feature}.routes.ts         # è·¯ç”±å®šä¹‰å’Œ OpenAPI è§„èŒƒï¼ˆå¿…éœ€ï¼‰
â”œâ”€â”€ {feature}.index.ts          # ç»Ÿä¸€å¯¼å‡ºï¼ˆå¿…éœ€ï¼‰
â”œâ”€â”€ {feature}.types.ts          # ç±»å‹å®šä¹‰ï¼ˆå¿…éœ€ï¼‰
â”œâ”€â”€ {feature}.schema.ts         # è·¯ç”±çº§ Zod Schemaï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ {feature}.services.ts       # è·¯ç”±çº§æœåŠ¡å‡½æ•°ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ {feature}.helpers.ts        # è¾…åŠ©å·¥å…·å‡½æ•°ï¼ˆå¯é€‰ï¼‰
â””â”€â”€ __tests__/                  # æµ‹è¯•ç›®å½•ï¼ˆæ¨èï¼‰
    â””â”€â”€ {feature}.test.ts
```

**æ–‡ä»¶è¯´æ˜:**

| æ–‡ä»¶                    | çŠ¶æ€ | ç”¨é€”                                         |
| ----------------------- | ---- | -------------------------------------------- |
| `{feature}.handlers.ts` | å¿…éœ€ | å®ç°è·¯ç”±çš„ä¸šåŠ¡é€»è¾‘å¤„ç†å‡½æ•°                   |
| `{feature}.routes.ts`   | å¿…éœ€ | å®šä¹‰è·¯ç”±çš„ OpenAPI è§„èŒƒå’Œè·¯å¾„                |
| `{feature}.index.ts`    | å¿…éœ€ | å¯¼å‡ºè·¯ç”±å®ä¾‹                                 |
| `{feature}.types.ts`    | å¿…éœ€ | è·¯ç”±å¤„ç†å™¨ç±»å‹å®šä¹‰å’Œä¸šåŠ¡ç±»å‹                 |
| `{feature}.schema.ts`   | å¯é€‰ | å®šä¹‰è¯¥æ¨¡å—ç‰¹æœ‰çš„ Zod æ ¡éªŒ Schema             |
| `{feature}.services.ts` | å¯é€‰ | è¯¥æ¨¡å—ä¸“å±çš„æœåŠ¡å‡½æ•°ï¼ˆå¤æ‚é€»è¾‘æˆ–æ¨¡å—å†…å¤ç”¨ï¼‰ |
| `{feature}.helpers.ts`  | å¯é€‰ | æ¨¡å—å†…éƒ¨çš„è¾…åŠ©å·¥å…·å‡½æ•°ï¼ˆçº¯å‡½æ•°ï¼‰             |
| `__tests__/`            | æ¨è | é›†æˆæµ‹è¯•æ–‡ä»¶                                 |

**ä½•æ—¶åˆ›å»ºå¯é€‰æ–‡ä»¶:**

- **schema.ts**: å½“æœ‰å¤šä¸ªå¤æ‚çš„è¯·æ±‚/å“åº” Schema éœ€è¦ç»„åˆå’Œå¤ç”¨æ—¶
- **services.ts**: å½“ä¸šåŠ¡é€»è¾‘å¤æ‚æˆ–éœ€è¦åœ¨æ¨¡å—å†…å¤ç”¨æ—¶ï¼ˆä¿æŒ handlers ç®€æ´ï¼‰
- **helpers.ts**: å½“éœ€è¦ç‰¹å®šçš„æ•°æ®è½¬æ¢ã€æ ¼å¼åŒ–æˆ–éªŒè¯è¾…åŠ©å‡½æ•°æ—¶

**å…¨å±€æœåŠ¡:**

- è·¨å¤šä¸ªå±‚çº§ï¼ˆadmin/client/publicï¼‰å¤ç”¨çš„æœåŠ¡åº”æ”¾åœ¨ `src/services/{service}/`

### æ•°æ®åº“æ¶æ„

```text
src/db/schema/
â”œâ”€â”€ _shard/                     # å…±äº«åŸºç¡€ç»„ä»¶
â”‚   â”œâ”€â”€ base-columns.ts         # é€šç”¨å­—æ®µï¼ˆid/createdAt/updatedAtç­‰ï¼‰
â”‚   â””â”€â”€ enums.ts                # PostgreSQL æšä¸¾å®šä¹‰
â”œâ”€â”€ {tier}/{feature}/           # ä¸šåŠ¡è¡¨å®šä¹‰ï¼ˆæŒ‰å±‚çº§å’ŒåŠŸèƒ½ç»„ç»‡ï¼‰
â”‚   â”œâ”€â”€ {entity}.ts             # Drizzle è¡¨å®šä¹‰
â”‚   â””â”€â”€ index.ts                # è¯¥åŠŸèƒ½æ¨¡å—çš„è¡¨å¯¼å‡º
â””â”€â”€ index.ts                    # æ ¹å¯¼å‡ºï¼ˆæ±‡æ€»æ‰€æœ‰ schemaï¼‰
```

**ç›®å½•è¯´æ˜:**

- **`_shard/` ç›®å½•**: å­˜æ”¾è·¨åŠŸèƒ½çš„å…±äº«åŸºç¡€ç»„ä»¶
  - `base-columns.ts`: å¯¼å‡º `baseColumns` å¯¹è±¡ï¼Œæ‰€æœ‰è¡¨é€šè¿‡ `...baseColumns` æ‰©å±•
  - `enums.ts`: ä½¿ç”¨ `pgEnum()` å®šä¹‰æ•°æ®åº“æšä¸¾ç±»å‹

- **ä¸šåŠ¡è¡¨ç»„ç»‡**: æŒ‰ `{tier}/{feature}` åˆ†å±‚ï¼ˆå¦‚ `admin/system/users.ts`ï¼‰ï¼Œä¸è·¯ç”±ç»“æ„å¯¹åº”

### Zod Schema åˆ†å±‚

é¡¹ç›®ä¸­çš„ Zod Schema åˆ†ä¸ºä¸¤ä¸ªå±‚çº§:

| å±‚çº§       | ä½ç½®                                  | å†…å®¹                              | ç”¨é€”                                              |
| ---------- | ------------------------------------- | --------------------------------- | ------------------------------------------------- |
| **DB å±‚**  | `db/schema/{entity}.ts`               | `select*Schema` / `insert*Schema` | ä» Drizzle è¡¨å®šä¹‰ç”Ÿæˆï¼Œä½œä¸ºåŸºç¡€ Schema            |
| **è·¯ç”±å±‚** | `routes/{tier}/{feature}/*.schema.ts` | ä¸šåŠ¡ç»„åˆ Schema                   | ç»§æ‰¿ DB Schema å¹¶ç»„åˆæˆç‰¹å®šæ¥å£çš„è¯·æ±‚/å“åº” Schema |

**æ ‡å‡†æµç¨‹:**

```typescript
// 1. DB å±‚: åœ¨è¡¨å®šä¹‰æ‰€åœ¨æ–‡ä»¶ç”ŸæˆåŸºç¡€ Schema
// src/db/schema/admin/system/users.ts
import { createInsertSchema, createSelectSchema } from "drizzle-zod";

// 2. è·¯ç”±å±‚: åœ¨ schema.ts ä¸­ç»„åˆä¸šåŠ¡ Schema
// src/routes/admin/system/users/users.schema.ts
import { insertUserSchema, selectUserSchema } from "@/db/schema";

export const selectUserSchema = createSelectSchema(users, {
  username: schema => schema.meta({ description: "ç”¨æˆ·å" })
});
export const insertUserSchema = createInsertSchema(users).omit({ id: true });

type CreateUserRequest = {
  username: string;
  email?: string;
};

export const createUserRequestSchema: z.ZodType<CreateUserRequest>
  = insertUserSchema.pick({
    username: true,
    email: true
  });

export const userListResponseSchema = z.object({
  data: z.array(selectUserSchema),
  total: z.number()
});
```

**å…³é”®è§„åˆ™:**

- æ‰€æœ‰ `.meta({ description })` ä»…åœ¨ DB å±‚æ·»åŠ ï¼ˆé€šè¿‡ `createSelectSchema` å›è°ƒï¼‰
- è·¯ç”±å±‚åªè´Ÿè´£ç»„åˆã€è£å‰ªå’Œæ‰©å±•ï¼Œä¸é‡å¤æ·»åŠ æè¿°
- å¦‚æœè·¯ç”± Schema ç®€å•ï¼ˆå¦‚å•è¡¨ CRUDï¼‰ï¼Œå¯ä»¥ç›´æ¥åœ¨ `routes.ts` ä¸­ä½¿ç”¨ DB Schema
- æ¨èä½¿ç”¨æ¥å£çº¦æŸ Zod Schemaï¼ˆ`z.ZodType<Interface>`ï¼‰ä»¥å¢å¼ºç±»å‹å®‰å…¨

**PostgreSQL ç‰ˆæœ¬è¯´æ˜**:

- **PostgreSQL 18 åŠä»¥ä¸Š**: æ— éœ€ä»»ä½•ä¿®æ”¹,ç›´æ¥ä½¿ç”¨å³å¯ã€‚é¡¹ç›®é»˜è®¤ä½¿ç”¨ PostgreSQL 18 çš„ `uuidv7()` å‡½æ•°ã€‚
- **PostgreSQL 18 ä»¥ä¸‹**: éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ `src/db/schema/_shard/base-columns.ts` æ–‡ä»¶:
  1. å®‰è£… `uuid` åº“:
     ```bash
     pnpm add uuid
     pnpm add -D @types/uuid
     ```
  2. ä¿®æ”¹ `base-columns.ts` æ–‡ä»¶,åœ¨æ–‡ä»¶é¡¶éƒ¨æ·»åŠ å¯¼å…¥:
     ```typescript
     import { uuidV7 } from "uuid";
     ```
  3. ä¿®æ”¹ `id` å­—æ®µå®šä¹‰:
     ```typescript
     // å°†
     uuid().primaryKey().notNull().default(sql`uuidv7()`);
     // æ”¹ä¸º
     uuid().primaryKey().notNull().$defaultFn(() => uuidV7());
     ```

### æ¶æ„ç­–ç•¥

**ç®€å• CRUDï¼ˆ80%ï¼‰**ï¼šHandler ç›´æ¥æ“ä½œæ•°æ®åº“ï¼Œå‡½æ•°å¼è®¾è®¡ï¼ŒæŒ‰éœ€æŠ½ç¦»æœåŠ¡å±‚

**å¤æ‚ä¸šåŠ¡ï¼ˆ20%ï¼‰**ï¼šæ ¹æ®åœºæ™¯é€‰æ‹©æ¶æ„æ¨¡å¼

| åœºæ™¯           | æ¨èæ¶æ„     | è¯´æ˜                      |
| -------------- | ------------ | ------------------------- |
| ç®€å• CRUD      | ä¸‰å±‚æ¶æ„     | Handler ç›´æ¥æ“ä½œ Drizzle  |
| éœ€è¦æŠ€æœ¯è§£è€¦   | å…­è¾¹å½¢æ¶æ„   | Port/Adapter éš”ç¦»å¤–éƒ¨ä¾èµ– |
| ä¸šåŠ¡é€»è¾‘å¤æ‚   | DDD          | é¢†åŸŸæ¨¡å‹å°è£…ä¸šåŠ¡è§„åˆ™      |
| æ—¢å¤æ‚åˆéœ€è§£è€¦ | DDD + å…­è¾¹å½¢ | ä¸¤è€…ç»“åˆ                  |

**DDD / å…­è¾¹å½¢æ¶æ„ç›®å½•ç»“æ„**:

```text
src/domain/[module]/                  # é¢†åŸŸå±‚ï¼ˆçº¯ä¸šåŠ¡ï¼Œæ— å¤–éƒ¨ä¾èµ–ï¼‰
â”œâ”€â”€ [module].entity.ts                # é¢†åŸŸå®ä½“ï¼šä¸šåŠ¡è§„åˆ™ã€çŠ¶æ€å˜æ›´
â”œâ”€â”€ [module].service.ts               # é¢†åŸŸæœåŠ¡ï¼šè·¨å®ä½“é€»è¾‘ã€æµç¨‹ç¼–æ’
â””â”€â”€ [module].repository.port.ts       # ä»“å‚¨æ¥å£ï¼ˆPortï¼‰

src/infrastructure/persistence/       # åŸºç¡€è®¾æ–½å±‚ï¼ˆAdapterï¼‰
â”œâ”€â”€ mappers/[module].mapper.ts        # Domain â†” Drizzle è½¬æ¢
â””â”€â”€ repositories/[module].repository.ts  # ä»“å‚¨å®ç°ï¼ˆDrizzle ORMï¼‰

src/routes/{tier}/{feature}/handlers.ts  # è¡¨ç¤ºå±‚ï¼šHTTP + è°ƒç”¨é¢†åŸŸæœåŠ¡
```

**æ ¸å¿ƒåŸåˆ™**: Domain å±‚çº¯å‡€ï¼ˆä¸ä¾èµ– Drizzle/Redisï¼‰â†’ Port å®šä¹‰æŠ½è±¡ â†’ Adapter å®ç°ç»†èŠ‚ â†’ ä¾èµ–åè½¬

## æ ¸å¿ƒæ¶æ„ç‰¹æ€§

### ğŸ”„ è‡ªåŠ¨è·¯ç”±åŠ è½½

åŸºäº `import.meta.glob` è‡ªåŠ¨æ‰«ææ³¨å†Œè·¯ç”±æ¨¡å—ï¼Œæ–°å¢æ¨¡å—åªéœ€åˆ›å»ºç›®å½•å³å¯ã€‚æ”¯æŒ HMR çƒ­æ›´æ–°ï¼Œä¿®æ”¹ä»£ç æ¯«ç§’çº§ç”Ÿæ•ˆã€‚

**å·¥ä½œåŸç†:**

```typescript
// src/index.ts
// 1. è‡ªåŠ¨æ‰«æè·¯ç”±æ¨¡å—
const adminModules = import.meta.glob<{ default: AppOpenAPI }>(
  "./routes/admin/**/*.index.ts",
  { eager: true }
);

// 2. æ‰¹é‡æ³¨å†Œè·¯ç”±
for (const module of Object.values(adminModules)) {
  adminApp.route("/", module.default);
}
```

**å¼€å‘æµç¨‹:**

1. **åˆ›å»ºæ–°åŠŸèƒ½**: åœ¨ `routes/{tier}/{feature}/` ä¸‹åˆ›å»ºæ ‡å‡†æ–‡ä»¶ç»“æ„
2. **è‡ªåŠ¨å‘ç°**: Vite è‡ªåŠ¨æ‰«ææ–°çš„ `*.index.ts` æ–‡ä»¶
3. **ç«‹å³ç”Ÿæ•ˆ**: ä¿å­˜åæ¯«ç§’çº§çƒ­æ›´æ–°ï¼Œæ— éœ€é‡å¯æœåŠ¡å™¨

**çº¦å®š:**

- æ¯ä¸ªè·¯ç”±æ¨¡å—å¿…é¡»åŒ…å« `{feature}.index.ts` æ–‡ä»¶
- `index.ts` å¿…é¡» `export default` ä¸€ä¸ªè·¯ç”±å®ä¾‹
- æ–‡ä»¶è·¯å¾„æ ¼å¼: `routes/{tier}/{feature}/*.index.ts`

### ğŸ§© å•ä¾‹ç®¡ç†ç³»ç»Ÿ

ç»Ÿä¸€ç®¡ç† PostgreSQLã€Redisã€Casbin ç­‰é•¿è¿æ¥èµ„æºï¼Œè§£å†³ Vite HMR æ¨¡å¼ä¸‹çš„è¿æ¥æ³„æ¼é—®é¢˜ï¼Œæ”¯æŒè‡ªåŠ¨èµ„æºæ¸…ç†

### ğŸ¯ æƒé™ + èœå• + å­—å…¸ä¸€ä½“åŒ–æ–¹æ¡ˆ

åŸºäº **Casbin + Refine + PostgreSQL Enum + OpenAPI** çš„ç°ä»£åŒ–æ¶æ„,å½»åº•ç®€åŒ–ä¼ ç»Ÿåå°ç®¡ç†ç³»ç»Ÿçš„å¤æ‚åº¦ã€‚

#### æ ¸å¿ƒæ€è·¯

**æƒé™ç³»ç»Ÿ**:åŸºäº RESTful API è·¯å¾„ + Casbin KeyMatch3,ä»£ç å³æƒé™,æ— éœ€æ•°æ®åº“å­˜å‚¨æƒé™æ ‡è¯†
**èœå•ç³»ç»Ÿ**:Refine Resource ç¼–è¯‘æ—¶è·¯ç”±,è¿è¡Œæ—¶é›¶å¼€é”€,ä»£ç å³èœå•
**å­—å…¸ç³»ç»Ÿ**:TypeScript æšä¸¾ â†’ PostgreSQL Enum â†’ OpenAPI è‡ªåŠ¨ç”Ÿæˆ,å‰åç«¯ 100% åŒæ­¥

#### å¯¹æ¯”ä¼ ç»Ÿæ–¹æ¡ˆ

| ç»´åº¦     | æœ¬é¡¹ç›®æ–¹æ¡ˆ                                 | ä¼ ç»Ÿæ–¹æ¡ˆ                                     |
| -------- | ------------------------------------------ | -------------------------------------------- |
| **æƒé™** | OpenAPI è·¯ç”±å®šä¹‰,Casbin ç­–ç•¥åŒ¹é…,è‡ªåŠ¨åŒæ­¥  | æ•°æ®åº“æƒé™è¡¨ + å…³è”è¡¨,æ‰‹åŠ¨ç»´æŠ¤,å®¹æ˜“ä¸ä¸€è‡´    |
| **èœå•** | ç¼–è¯‘æ—¶ç”Ÿæˆè·¯ç”±æ ‘,ç±»å‹å®‰å…¨,é›¶è¿è¡Œæ—¶å¼€é”€     | æ•°æ®åº“å­˜å‚¨èœå•,è¿è¡Œæ—¶æŸ¥è¯¢è§£æ,éœ€è¦ç®¡ç†ç•Œé¢   |
| **å­—å…¸** | å•ä¸€æ•°æ®æº,ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥,4 å­—èŠ‚ Enum å­˜å‚¨ | æ•°æ®åº“å­—å…¸è¡¨,è¿è¡Œæ—¶æŸ¥è¯¢,éœ€è¦ JOIN,å®¹æ˜“ä¸åŒæ­¥ |
| **ç»´æŠ¤** | æ”¹ä¸€å¤„è‡ªåŠ¨åŒæ­¥,TypeScript ç¼–è¯‘æ—¶æŠ¥é”™       | å¤šå¤„æ‰‹åŠ¨åŒæ­¥:æ•°æ®åº“ â†’ åç«¯ â†’ å‰ç«¯ â†’ æ–‡æ¡£     |

## éƒ¨ç½²

### Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t clhoria-template .

# è¿è¡Œå®¹å™¨
docker run -p 9999:9999 --env-file .env clhoria-template
```

## éƒ¨ç½²ç‰¹æ€§

**å¯é€‰ SaaS ä¾èµ–**: sentryã€Cloudflare R2 å¯¹è±¡å­˜å‚¨ç­‰ç¬¬ä¸‰æ–¹æœåŠ¡å‡ä¸ºå¯é€‰,å¯å®Œå…¨éƒ¨ç½²åœ¨å†…ç½‘ç¯å¢ƒã€‚æŠ€æœ¯æ ˆç¬¦åˆä¿¡åˆ›è¦æ±‚,æ”¯æŒè¿ç§»è‡³å›½äº§æ•°æ®åº“(å¦‚äººå¤§é‡‘ä»“ã€åä¸ºé«˜æ–¯ç­‰)ã€‚

## å¼€å‘ä½“éªŒå¯¹æ¯”

| å¯¹æ¯”ç»´åº¦     | æœ¬é¡¹ç›® (AI + Modern Stack)                      | ä¼ ç»Ÿä»£ç ç”Ÿæˆå™¨                           |
| ------------ | ----------------------------------------------- | ---------------------------------------- |
| **å¼€å‘æ•ˆç‡** | Claude Code æ™ºèƒ½ç†è§£éœ€æ±‚,ç§’çº§ç”Ÿæˆç¬¦åˆè§„èŒƒçš„ä»£ç  | æ‰‹åŠ¨é…ç½®æ¨¡æ¿éº»çƒ¦,ç”ŸæˆåƒµåŒ–ä»£ç ,éœ€å¤§é‡ä¿®æ”¹ |
| **æ¥å£ç®¡ç†** | OpenAPI + Zod è‡ªåŠ¨åŒæ­¥,ç±»å‹å®‰å…¨,æ–‡æ¡£æ°¸ä¸è¿‡æœŸ    | æ‰‹å·¥ç»´æŠ¤æ¥å£æ–‡æ¡£,å®¹æ˜“ä¸åŒæ­¥              |
| **ä»£ç è´¨é‡** | TypeScript å…¨é“¾è·¯ç±»å‹æ£€æŸ¥,ç¼–è¯‘æ—¶å‘ç°é—®é¢˜        | ç”Ÿæˆä»£ç ç¼ºä¹ç±»å‹çº¦æŸ,è¿è¡Œæ—¶é”™è¯¯é¢‘å‘      |
| **ç»´æŠ¤æˆæœ¬** | ä»£ç è§„èŒƒç»Ÿä¸€,AI ç†è§£é¡¹ç›®æ¶æ„,ç»´æŠ¤ç®€å•           | ä»£ç é‡å¤§ä¸å¤Ÿä¼˜é›…,ä¸å¥½ç»´æŠ¤                |

## éªŒè¯ç ç³»ç»Ÿå¯¹æ¯”

### ğŸ” Cap.js vs svg-captcha

| å¯¹æ¯”ç»´åº¦     | Cap.js (æœ¬é¡¹ç›®é‡‡ç”¨)                          | svg-captcha                    |
| ------------ | -------------------------------------------- | ------------------------------ |
| **å®‰å…¨æ€§**   | å¤šç§æŒ‘æˆ˜ç±»å‹,éš¾ä»¥è¢«è‡ªåŠ¨åŒ–å·¥å…·ç ´è§£            | åŸºäºå›¾åƒè¯†åˆ«,æ˜“è¢« OCR å·¥å…·ç ´è§£ |
| **ç”¨æˆ·ä½“éªŒ** | ç°ä»£åŒ–äº¤äº’ç•Œé¢,å¿«é€Ÿé€šè¿‡éªŒè¯,ç”¨æˆ·ä½“éªŒé¥é¥é¢†å…ˆ | ä¼ ç»Ÿå›¾ç‰‡éªŒè¯,è¯†åˆ«æ‰­æ›²æ–‡å­—      |
| **æ‰©å±•æ€§**   | æ•°æ®åº“å­˜å‚¨,æ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²å’Œè‡ªå®šä¹‰æŒ‘æˆ˜ç±»å‹    | å†…å­˜å­˜å‚¨,åŠŸèƒ½å›ºå®š              |

## æ€§èƒ½å¯¹æ¯”

### Hono vs Fastify æ€§èƒ½åˆ†æ

åœ¨ Node.js 22 ç¯å¢ƒä¸‹,Fastify ä¾ç„¶ä¿æŒæ€§èƒ½ä¼˜åŠ¿,ä½†å·®è·å·²ç»ä¸å¤§:

- **Fastify (Node.js)**: 142,695 req/s
- **Hono (Node.js)**: 129,234 req/s

è¯¦ç»†åŸºå‡†æµ‹è¯•:[bun-http-framework-benchmark](https://github.com/SaltyAom/bun-http-framework-benchmark)

### ğŸš€ é«˜å¹¶å‘ä¸æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ

**é«˜å¹¶å‘è§£å†³æ–¹æ¡ˆ**:K8s/é˜¿é‡Œäº‘ SLB è´Ÿè½½å‡è¡¡ + PostgreSQL/Redis é«˜å¯ç”¨é›†ç¾¤ + åˆ†å¸ƒå¼ä¼šè¯,å®ç°æ— çŠ¶æ€æ°´å¹³æ‰©å±•

**è®¡ç®—å¯†é›†å‹ä¼˜åŒ–**:

| åœºæ™¯             | æ¨èæ–¹æ¡ˆ       | é€‚ç”¨åœºæ™¯                       |
| ---------------- | -------------- | ------------------------------ |
| **å¤šæ¬¡é‡å¤è°ƒç”¨** | napi-rs        | å›¾åƒå¤„ç†ã€åŠ å¯†è§£å¯†ã€æ•°æ®å‹ç¼©   |
| **å•æ¬¡å¯†é›†è®¡ç®—** | WASM           | å¤æ‚ç®—æ³•ã€ç§‘å­¦è®¡ç®—ã€å•æ¬¡é‡è®¡ç®— |
| **å¹¶è¡Œå¤šä»»åŠ¡**   | Worker Threads | å¤§é‡ç‹¬ç«‹ä»»åŠ¡ã€å¹¶å‘æ•°æ®å¤„ç†     |

## Claude Code æ·±åº¦é›†æˆ(å¯é€‰)

æœ¬é¡¹ç›®ä¸“ä¸º AI é©±åŠ¨å¼€å‘è€Œè®¾è®¡,æä¾›å®Œæ•´çš„ CLAUDE.md é…ç½®,è®© AI æ·±åº¦ç†è§£é¡¹ç›®æ¶æ„ã€‚

**æ¨è MCP æ’ä»¶**:

- **[Serena](https://github.com/SerenaAI/serena-mcp)**:æ™ºèƒ½ä»£ç åˆ†æå’Œé‡æ„å»ºè®®
- **[Context7](https://github.com/context7/mcp-plugin)**:å®æ—¶æŠ€æœ¯æ–‡æ¡£æŸ¥è¯¢å’Œä»£ç ç¤ºä¾‹

## VSCode ä»£ç ç‰‡æ®µ

é¡¹ç›®å†…ç½®äº† CRUD å¼€å‘å¸¸ç”¨çš„ä»£ç ç‰‡æ®µæ¨¡æ¿ï¼ˆ`.vscode/crud.code-snippets`ï¼‰ï¼Œåœ¨ TypeScript æ–‡ä»¶ä¸­è¾“å…¥å‰ç¼€åæŒ‰ `Tab` é”®å³å¯å¿«é€Ÿç”Ÿæˆä»£ç ã€‚

| å‰ç¼€            | è¯´æ˜                                          |
| --------------- | --------------------------------------------- |
| `crud-schema`   | å®Œæ•´ schema.ts æ¨¡æ¿                           |
| `crud-routes`   | å®Œæ•´ routes.ts æ¨¡æ¿ï¼ˆå« CRUD äº”ä¸ªè·¯ç”±ï¼‰       |
| `crud-handlers` | å®Œæ•´ handlers.ts æ¨¡æ¿ï¼ˆå« CRUD äº”ä¸ªå¤„ç†å‡½æ•°ï¼‰ |
| `crud-index`    | å®Œæ•´ index.ts æ¨¡æ¿                            |

## æµ‹è¯•

ä½¿ç”¨ Vitest æµ‹è¯•æ¡†æ¶,æ”¯æŒå®Œæ•´çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•,å¯ä»¥åœ¨ tests ä¸‹æ·»åŠ ç«¯åˆ°ç«¯æµ‹è¯•ã€‚

```bash
# è¿è¡Œæµ‹è¯•
pnpm test
```

## å¼•ç”¨

- [hono-open-api-starter](https://github.com/w3cj/hono-open-api-starter)
- [stoker](https://github.com/w3cj/stoker)

## æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®,è¯·åˆ›å»º [Issue](https://github.com/zhe-qi/clhoria-template/issues) æˆ–è”ç³»ç»´æŠ¤è€…ã€‚

**QQ äº¤æµç¾¤**: 1076889416

## è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®!è¯·éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒ,æäº¤ PR å‰ç¡®ä¿ `pnpm test` å’Œ `pnpm lint` é€šè¿‡ã€‚

## è®¸å¯è¯

MIT License - æŸ¥çœ‹ [LICENSE](https://github.com/zhe-qi/clhoria-template/blob/main/LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚
